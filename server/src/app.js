import express from "express";
import cors from "cors";

import getFilm from "./api/films_routes/getFilm.js";
import postFilm from "./api/films_routes/postFilm.js";
import deleteFilm from "./api/films_routes/deleteFilm.js";
import updateFilm from "./api/films_routes/updateFilm.js";

/*
üìò C√≥digos de estado HTTP m√°s comunes para Express

|---------|------------------------------|----------------|
| 200 OK                 | Petici√≥n correcta (GET, PUT, PATCH, DELETE exitosos). |
| 201 Created            | Recurso creado correctamente (por ejemplo, en un POST). |
| 204 No Content         | Petici√≥n correcta pero sin contenido que devolver. |
| 400 Bad Request        | Datos incorrectos o petici√≥n mal formada (campos inv√°lidos, JSON mal enviado, etc.). |
| 401 Unauthorized       | El usuario no est√° autenticado (falta token o credenciales). |
| 403 Forbidden          | El usuario est√° autenticado pero no tiene permisos. |
| 404 Not Found          | Recurso no encontrado (por ejemplo, libro con ese ID no existe). |
| 409 Conflict           | Conflicto con el estado actual (duplicado, ya existe un registro, etc.). |
| 422 Unprocessable Entity | Datos v√°lidos en formato pero con errores de validaci√≥n (por ejemplo, campos que no cumplen el schema). |
| 500 Internal Server Error | Error inesperado en el servidor. |
| 503 Service Unavailable | El servidor no puede procesar temporalmente la petici√≥n. |

*/

const app = express();

app.use(express.json());
app.use(cors());

/*
|---------|------------------------------|----------------|

‚úçüèΩüé¨ RUTES PER AL LES PEL√çCULES
*/

app.use("/api/films", getFilm);
app.use("/api/films", postFilm);
app.use("/api/films", deleteFilm);
app.use("/api/films", updateFilm);

export default app;
